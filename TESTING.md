# UIコンポーネントテスト

このドキュメントは `src/components` 内のUIコンポーネントテストについて概説します。<br/>主にユーザー操作を伴うコンポーネントを対象にテストを実施しています。

## テストの実行

以下のコマンドでテストを実行します。

```bash
npm test
```

---

## PageClient.test.jsx（トップページ）

- すべての子コンポーネント（Header、CurrentStatus、Sliderなど）がモック化され、正しくレンダリングされることを検証します。
- ページのすべての主要セクションが表示されることを確認します。

## Header.test.jsx（ヘッダー）

- ロゴとナビゲーションリンクが正しくレンダリングされることをテストします。
- リンクの `href` 属性が正しいことを検証します。
- モバイルメニューの開閉が機能することを確認します。

## Announcements.test.jsx（お知らせ）

- お知らせリストが正しくレンダリングされることをテストします。
- `fake timers` を使用して、日付が正しく表示されることを検証します。
- お知らせをクリックすると詳細を含むモーダルが開くことを確認します。
- モーダルが正しく閉じることを確認します。

## LostItemSearch.test.jsx（お忘れ物検索）

- ドロップダウンと検索ボタンを含む検索フォームが正しくレンダリングされることを確認します。
- フォームを送信すると、選択したパラメータとともに正しい検索結果ページに遷移することを（モック化された `useRouter` を使用して）検証します。
- オプションが選択されていない場合に、クエリパラメータなしで検索ページへのナビゲーションが行われることを確認します。

## PrSpots.test.jsx（おでかけガイド）

- 「おでかけガイド」リストが正しくレンダリングされることをテストします。
- スポットをクリックすると、説明と画像スライダーを含む詳細モーダルが開くことを検証します。
- モーダルが正しく閉じることを確認します。

## BackToTopButton.test.jsx（トップへ戻るボタン）

- ボタンが初期状態で非表示であることを確認します。
- 100px以上スクロールした後にボタンが表示されることを検証します。
- トップまでスクロールして戻すとボタンが再び非表示になることを確認します。
- スクロール位置に関係なく、モーダルが開いている間はボタンが非表示のままであることを確認します。
- ボタンをクリックすると `window.scrollTo` が呼び出されることをテストします。
- コンポーネントがアンマウントされるときに、スクロールイベントリスナーが削除されることを検証します。
